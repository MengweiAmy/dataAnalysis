%% Boxplot for different dwell time
mfig('Pupil size of Different Dwell Time'); clf;
data = [100,150,200,250,300]
wholeGazeData = []
labels = [];
gdgrp1 = [];
gdgrp2 = [];
gdgrp3 = [];
gdgrp4 = [];
gdgrp5 = [];

cdgrp1 = [];
cdgrp2 = [];
cdgrp3 = [];
cdgrp4 = [];
cdgrp5 = [];

for s = 1: length(data)
    filename = strcat('/data/DiffDwellTime/',num2str(data(s)))
    [gazematrix,wholeClGaze] = GetGazeControlPupilRadium(filename,1);
    gazematrix(:,13) = s;
    if s==1
        gdgrp1 = gazematrix;
        cdgrp1 = wholeClGaze;
    elseif s==2
        gdgrp2 = gazematrix;
        cdgrp2 = wholeClGaze;
    elseif s==3
        gdgrp3 = gazematrix;
        cdgrp3 = wholeClGaze;
    elseif s==4
        gdgrp4 = gazematrix;
        cdgrp4 = wholeClGaze;
    else
        gdgrp5 = gazematrix;
        cdgrp5 = wholeClGaze;
    end
    labels = cat(1,labels,strcat(num2str(data(s)),'ms'))
    wholeGazeData = cat(1,wholeGazeData,gazematrix);
end
%[gazematrix,wholeClGaze] = GetGazeControlPupilRadium('/data/DiffDwellTime/',1);
grp = [repmat({strcat(num2str(data(1)),'ms')}, length(group1), 1); 
    repmat({strcat(num2str(data(2)),'ms')}, length(group2), 1);
    repmat({strcat(num2str(data(3)),'ms')}, length(group3), 1);
    repmat({strcat(num2str(data(4)),'ms')}, length(group4), 1);
    repmat({strcat(num2str(data(5)),'ms')}, length(group5), 1)]
boxplot(wholeGazeData(:,5),grp)

%% Plot for different dwell time
mfig('Pupil curve for Different Dwell Time')
plot(gdgrp1(:,5));hold on;
plot(gdgrp2(:,5));hold on;
plot(gdgrp3(:,5));hold on;
plot(gdgrp4(:,5));hold on;
plot(gdgrp5(:,5));

legend(labels)
xlabel('Data point')
ylabel('Pupil Size')

%% WPM and KSPS performance for different dwell time
mfig('WPM')
r = [];
for i=1:length(data)
    if i == 1
        r = cat(1,r,CalculateWPMForGroup(gdgrp1,cdgrp1));
    elseif i==2
        r = cat(1,r,CalculateWPMForGroup(gdgrp2,cdgrp2));
    elseif i==3
        r = cat(1,r,CalculateWPMForGroup(gdgrp3,cdgrp3));
    elseif i==4
        r = cat(1,r,CalculateWPMForGroup(gdgrp4,cdgrp4));
    elseif i==5
        r = cat(1,r,CalculateWPMForGroup(gdgrp5,cdgrp5));
    end
end
bar(r)

